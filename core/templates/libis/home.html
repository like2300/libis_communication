{% extends "base.html" %}
{% comment %} pge home.html {% endcomment %} 

{% block content %} 
    <style>
        @keyframes reveal {
            from {
                clip-path: inset(0 100% 0 0);
            }
            to {
                clip-path: inset(0 0 0 0);
            }
        }

        @keyframes textReveal {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes shine {
            from {
                transform: translateX(-100%) rotate(45deg);
            }
            to {
                transform: translateX(200%) rotate(45deg);
            }
        }

        .shine-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transform: translateX(-100%) rotate(45deg);
        }

        .shine-effect:hover::before {
            animation: shine 1.5s;
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        .split-reveal {
            animation: reveal 1.2s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .text-reveal {
            animation: textReveal 0.8s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .scroll-container {
            scroll-snap-type: y mandatory;
            -webkit-overflow-scrolling: touch;
        }

        .scroll-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .content-mask {
            -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
            mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        }
    </style>
 
<div class=" text-white overflow-hidden">
    <!-- Main scroll container -->
    <!-- templates/libis/home.html -->
{% load static %}


<div class="scroll-container h-full overflow-y-auto overflow-x-hidden">
    {% for message in messages %}
    <!-- Section {{ forloop.counter }} -->
    <section class="scroll-section relative h-screen flex flex-col md:flex-row">
        <!-- Détermine l'ordre en fonction de la parité -->
        {% if forloop.counter|divisibleby:2 %}
            <!-- Pair : Texte à gauche, média à droite -->
            <div class="w-full md:w-1/2 h-1/2 md:h-full flex items-center justify-center p-8 bg-neutral-900 order-1">
                <!-- Contenu texte -->
                <div class="max-w-lg float-animation">
                    <span class="text-neutral-400 tracking-wider text-sm font-mono">0{{ forloop.counter }} / MESSAGE</span>
                    <h2 class="mt-4 text-4xl md:text-6xl font-bold leading-none bg-gradient-to-r from-white to-neutral-400 bg-clip-text text-transparent">{{ message.titre }}</h2>
                    <p class="mt-6 text-neutral-400 text-lg leading-relaxed">{{ message.contenu }}</p>
                    <button class="mt-8 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-full text-sm font-medium transition-all duration-300 hover:tracking-wider">En savoir plus →</button>
                </div>
            </div>
            
            <!-- Média à droite -->
            <div class="w-full md:w-1/2 h-1/2 md:h-full relative overflow-hidden group shine-effect order-2">
                {% include "core/media_render.html" with media=message.media titre=message.titre %}
            </div>
        {% else %}
            <!-- Impair : Média à gauche, texte à droite -->
            <!-- Média à gauche -->
            <div class="w-full md:w-1/2 h-1/2 md:h-full relative overflow-hidden group shine-effect order-1 md:order-1">
                {% include "core/media_render.html" with media=message.media titre=message.titre %}
            </div>
            
            <!-- Texte à droite -->
            <div class="w-full md:w-1/2 h-1/2 md:h-full flex items-center justify-center p-8 bg-neutral-950 order-2 md:order-2">
                <div class="max-w-lg float-animation">
                    <span class="text-neutral-400 tracking-wider text-sm font-mono">0{{ forloop.counter }} / MESSAGE</span>
                    <h2 class="mt-4 text-4xl md:text-6xl font-bold leading-none bg-gradient-to-r from-white to-neutral-400 bg-clip-text text-transparent">{{ message.titre }}</h2>
                    <p class="mt-6 text-neutral-400 text-lg leading-relaxed">{{ message.contenu }}</p>
                    <button class="mt-8 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-full text-sm font-medium transition-all duration-300 hover:tracking-wider">En savoir plus →</button>
                </div>
            </div>
        {% endif %}
    </section>
    {% endfor %}
    
    <!-- ... (le reste de votre template) ... -->



    <div class="    ">
        <!-- Section Équipe -->
        <section class="scroll-section relative h-full flex items-center justify-center bg-neutral-950 py-12 md:py-0">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Titre -->
                <div class="text-center mb-12 md:mb-20 px-4">
                    <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-white to-neutral-400 bg-clip-text text-transparent">
                        Notre Équipe
                    </h2>
                    <p class="mt-4 text-neutral-400 max-w-2xl mx-auto text-lg md:text-xl">
                        Découvrez les talents derrière LIBIS Communication
                    </p>
                </div>

                <!-- Grille des membres -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10 lg:gap-12 px-4 sm:px-0">
                    {% for member in equipe %}
                    <div class="group relative overflow-hidden rounded-xl shine-effect h-[380px] md:h-[420px] transition-all duration-500 hover:scale-[1.02]">
                        <!-- Photo -->
                        <div class="relative h-full w-full overflow-hidden">
                            {% if member.photo %}
                            <img src="{{ member.photo.url }}" 
                                alt="{{ member.nom }}" 
                                class="w-full h-full object-cover transition-all duration-700 group-hover:scale-105" 
                                loading="lazy" />
                            {% endif %}
                            <!-- Overlay gradient -->
                            <div class="absolute inset-0 bg-gradient-to-t from-neutral-950 via-neutral-950/10 to-transparent"></div>
                        </div>
                        
                        <!-- Info membre -->
                        <div class="absolute bottom-0 left-0 right-0 p-6 md:p-8 transition-all duration-500 group-hover:pb-8">
                            <h3 class="text-2xl md:text-3xl font-bold text-white">{{ member.nom }}</h3>
                            <p class="text-neutral-300 mt-1">{{ member.poste }}</p>
                            <p class="mt-3 text-neutral-400 text-sm md:text-base line-clamp-2 transition-all duration-300 group-hover:line-clamp-none">
                                {{ member.bio }}
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>
    </div>

    
</div>



    <script>
        const container = document.querySelector('.scroll-container');
        const sections = document.querySelectorAll('.scroll-section');
        const dots = document.querySelectorAll('.fixed.right-8 button');
        let isScrolling = false;

        function scrollToSection(index) {
            if (!isScrolling) {
                isScrolling = true;
                sections[index].scrollIntoView({ behavior: 'smooth' });
                updateDots(index);
                setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            }
        }

        function updateDots(index) {
            dots.forEach((dot, i) => {
                dot.className = `w-3 h-3 rounded-full transition-all duration-300 ${
                    i === index ? 'bg-white scale-150' : 'bg-white/20 hover:bg-white hover:scale-150'
                }`;
            });
        }

        // Update dots on scroll
        container.addEventListener('scroll', () => {
            const index = Math.round(container.scrollTop / window.innerHeight);
            updateDots(index);
        });

        // Initialize first dot
        updateDots(0);
    </script>
</div>
 


{% endblock %}